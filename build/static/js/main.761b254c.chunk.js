(this["webpackJsonpblood-donation"]=this["webpackJsonpblood-donation"]||[]).push([[0],{163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},186:function(e,t){},188:function(e,t){},202:function(e,t){},204:function(e,t){},232:function(e,t){},234:function(e,t){},235:function(e,t){},240:function(e,t){},242:function(e,t){},248:function(e,t){},250:function(e,t){},269:function(e,t){},281:function(e,t){},284:function(e,t){},302:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(57),r=a.n(i),o=(a(163),a(4)),c=a(14),l=(a(164),a(11)),j=a(6),d=a(7),u=a(18),h=a(9),b=a(8),O=(a(165),a(10)),m=a.n(O),p=a(2),g=a(84),v=function(){var e;return{getService:function(){return e||(e=this)},setToken:function(e){localStorage.setItem("access_token",e.token);var t=g.decode(e.token);console.log(t),localStorage.setItem("role",t.role),localStorage.setItem("userId",t.id),localStorage.setItem("username",t.username)},getAccessToken:function(){return localStorage.getItem("access_token")},getRole:function(){return localStorage.getItem("role")},getUserId:function(){return localStorage.getItem("userId")},getUsername:function(){return localStorage.getItem("username")},clearToken:function(){localStorage.removeItem("access_token"),localStorage.removeItem("role")}}}(),x=a(84),f=a.n(x),k=a.p+"static/media/crvena_kap.c2450f98.png",N=a(0),S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).state={username:"",password:"",role:"",token:"",errorMessage:"",decoded_token:""},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear(),localStorage.setItem("home_link","https://blooddonation5.herokuapp.com")}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=v.getService();m.a.post(localStorage.getItem("home_link")+"/authenticate",{username:this.state.username,password:this.state.password}).then((function(e){200!==e.status&&201!==e.status||(a.setToken(e.data),t.state.decoded_token=f.a.decode(e.data.token),m.a.post(localStorage.getItem("home_link")+"/validate-token",{username:localStorage.getItem("username"),token:localStorage.getItem("access_token")}).then((function(e){"ADMIN"===t.state.decoded_token.role?t.props.history.push("/admin"):"USER"===t.state.decoded_token.role?t.props.history.push("/user"):"EMPLOYEE_DOCTOR"===t.state.decoded_token.role?(t.state.token=e.data.token,t.props.history.push("/employeeDoctor")):"EMPLOYEE_MEDICAL_TECH"===t.state.decoded_token.role?(t.state.token=e.data.token,t.props.history.push("/employeeMedicalTechnician")):"EMPLOYEE_HOSPITAL_MANAG"===t.state.decoded_token.role&&(t.state.token=e.data.token,t.props.history.push("/employeeHospitalManagement")),p.a.success("Uspjesna prijava na sistem",{position:p.a.POSITION.TOP_RIGHT})})))})).catch((function(e){console.log(e),e&&null!=e.response.data.message?(p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT}),t.setState({errorMessage:e.response.data.message.toString()})):p.a.error("Pogresni podaci",{position:p.a.POSITION.TOP_RIGHT})}))}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"frame",children:[Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h1",{children:"Blood donation"}),Object(N.jsx)("h2",{children:"Unesite podatke"})]}),Object(N.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(N.jsx)("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"submit-btn",type:"submit",children:"Login"}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"back-btn",onClick:function(t){t.preventDefault(),e.props.history.push("/")},children:"Nazad na naslovnu stranicu"})]})]})}}]),a}(n.Component),A=(a(302),a.p+"static/media/tabela_KG.7912f727.png"),D=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={showTablica:!0,showDarovanje:!1,showKontakti:!1,showPitanja:!1,showMoguce:!1},n.changeContent=n.changeContent.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"changeContent",value:function(e,t){this.state.showTablica=!1,this.state.showDarovanje=!1,this.state.showKontakti=!1,this.state.showPitanja=!1,this.state.showMoguce=!1,1===t&&this.setState({showTablica:!0}),2===t&&this.setState({showDarovanje:!0}),3===t&&this.setState({showKontakti:!0}),4===t&&this.setState({showMoguce:!0}),5===t&&this.setState({showPitanja:!0})}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"frame",children:[Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("div",{className:"headerFrame",children:Object(N.jsx)("img",{className:"kap_img",src:k,alt:"Crvena kap"})}),Object(N.jsxs)("div",{className:"headerFrame",children:[Object(N.jsx)("p",{children:"Federalna bolnica +387 33 123 456"}),Object(N.jsx)("h1",{children:"Doniranje krvi u Bosni i Hercegovini"})]})]}),Object(N.jsxs)("div",{className:"frameRow",children:[Object(N.jsxs)("div",{className:"lijevi",children:[Object(N.jsx)("button",{className:"ListaButtona",onClick:function(t){e.changeContent(t,1)},children:"Tablica krvnih grupa"}),Object(N.jsx)("button",{className:"ListaButtona",onClick:function(t){e.changeContent(t,2)},children:"Za\u0161to darovati krv?"}),Object(N.jsx)("button",{className:"ListaButtona",onClick:function(t){e.changeContent(t,3)},children:"Kontakt informacije, gdje i kada?"}),Object(N.jsx)("button",{className:"ListaButtona",onClick:function(t){e.changeContent(t,4)},children:"Koliko \u010desto je mogu\u0107e darovati krv?"}),Object(N.jsx)("button",{className:"ListaButtona",onClick:function(t){e.changeContent(t,5)},children:"\u010cesta pitanja o darivanju krvi"})]}),Object(N.jsxs)("div",{className:"sredina",children:[Object(N.jsx)("label",{className:"naslov",children:Object(N.jsx)("u",{children:"Spasimo \u017eivote zajedno, donirajte krv."})}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),this.state.showTablica?Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{className:"paragraf",children:["U tabeli su ozna\u0107ene pozitivne kompatibilnosti krvnih grupa primaoca i donatora. ",Object(N.jsx)("br",{}),"Dvije specifi\u010dne krvne grupe su AB+ i 0-. Osoba \u010dija je krvna grupa AB+ je univerzalni primalac.",Object(N.jsx)("br",{}),"A osoba \u010dija je krvna grupa 0- je univerzalni davalac."]}),Object(N.jsx)("img",{className:"img",src:A})]}):null,this.state.showDarovanje?Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{className:"naslov",children:" Za\u0161to darovati krv?"}),Object(N.jsxs)("p",{className:"paragraf",children:["Krv je nezamjeniv lijek povrije\u0111enima, oboljelim od hematolo\u0161kih i onkolo\u0161kih oboljenja, ",Object(N.jsx)("br",{}),"oboljelim kojima je potrebna hirur\u0161ka intervencija itd.",Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),"Krv se ne mo\u017ee prozvesti, jedini na\u010din pomo\u0107i osobama kojim je potrebna krv je darovanjem iste. ",Object(N.jsx)("br",{}),"Darovanje krvi predstavlja sponu izme\u0111u zdravog i bolesnog dijela populacije.",Object(N.jsx)("br",{}),"Da bi se obezbijedio ovaj lijek za one kojim je najpotrebniji potrebno je animirati \u0161to ",Object(N.jsx)("br",{}),"ve\u0107i broj populacije koji \u017eele pomo\u0107i drugima."]})]}):null,this.state.showKontakti?Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{className:"naslov",children:"Kontakt informacije:"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:"Adresa"}),Object(N.jsxs)("p",{className:"paragraf",children:["Zavod za transfuzijsku medicinu Federacije Bosne i Hercegovine ",Object(N.jsx)("br",{}),"\u010cekalu\u0161a 86, 71000 Sarajevo",Object(N.jsx)("br",{}),"Bosna i Hercegovina",Object(N.jsx)("br",{}),"Web: www.ztmfbih.ba",Object(N.jsx)("br",{}),"e-mail: ztm@ztmfbih.ba"]}),Object(N.jsx)("label",{children:"Odsjek za promociju davala\u0161tva:"}),Object(N.jsxs)("p",{className:"paragraf",children:["Tel: +387 33 567 304 ",Object(N.jsx)("br",{}),"Tel: +387 33 567 302",Object(N.jsx)("br",{}),"e-mail: animacija@ztmfbih.ba "]}),Object(N.jsx)("label",{className:"naslov",children:"Kada i gdje je mogu\u0107e darovati krv?"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{className:"paragraf",children:["Darovati krv mo\u017eete od ponedjeljka do petka u Zavodu za transfuzijsku medicinu FBiH.",Object(N.jsx)("br",{}),"Zavod za transfuzijsku medicinu se nalazi u ulici \u010cekalu\u0161a 86 u neposrednoj blizini ",Object(N.jsx)("br",{}),"Medicinskog fakulteta i Srednje Zubotehni\u010dke \u0161kole"]})]}):null,this.state.showMoguce?Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{className:"naslov",children:"Koliko \u010desto je mogu\u0107e darovati krv?"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:"Mu\u0161karci"}),Object(N.jsx)("p",{className:"paragraf",children:"Mu\u0161karci mogu darovati krv 4 puta godi\u0161nje, odnosno svaka 3 mjeseca."}),Object(N.jsx)("label",{children:"\u017dene"}),Object(N.jsx)("p",{className:"paragraf",children:"\u017dene mogu darovati krv 3 puta godi\u0161nje, odnosno svaka 4 mjeseca."})]}):null,this.state.showPitanja?Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{className:"naslov",children:"\u010cesta pitanja o darivanju krvi"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{className:"naslov",children:"\u0160TETI LI DARIVANJE KRVI ZDRAVLJU?"}),Object(N.jsxs)("p",{className:"paragraf",children:["Darivanje krvi ne \u0161teti zdravlju ako se provedu svi propisani postupci pri odabiru darivaoca krvi.",Object(N.jsx)("br",{}),"Svaka zdrava osoba izme\u0111u 18 i 65 godina starosti mo\u017ee bez opasnosti za svoje zdravlje darovati krv, ",Object(N.jsx)("br",{}),"3 do 4 puta u toku jedne godine.",Object(N.jsx)("br",{}),"Zdrav organizam darivaoca krvi vrlo brzo u potpunosti nadokna\u0111uje koli\u010dinu i sve sastavne dijelove",Object(N.jsx)("br",{}),"darovane krvi: ve\u0107 unutar 24 sata organizam nadoknadi teku\u0107i dio krvi - plazmu i njene sastojke, ",Object(N.jsx)("br",{}),"broj trombocita i leukocita. Eritrociti se nadoknade unutar 4 do 6 sedmica.",Object(N.jsx)("br",{}),"Darivanje krvi najvi\u0161e utje\u010de na \u017eeljezo koje se u obliku hemoglobina nalazi u eritrocitima ",Object(N.jsx)("br",{}),"(crvene krvne stanice). Darivanjem 450 mL krvi darivalac gubi oko 200 mg \u017eeljeza. ",Object(N.jsx)("br",{}),"Organizam nadokna\u0111uje gubitak \u017eeljeza u roku 1 do 2 mjeseca pove\u0107anom apsorpcijom iz hrane.",Object(N.jsx)("br",{}),"Prije svakog darivanja krvi obavezno provjeravamo zdravstveno stanje darivaoca krvi i",Object(N.jsx)("br",{}),"vrijednost hemoglobinau njegovoj krvi."]}),Object(N.jsx)("label",{className:"naslov",children:"MO\u017dE LI SE DARIVANJEM KRVI ZARAZITI OD NEKE BOLESTI?"}),Object(N.jsxs)("p",{className:"paragraf",children:["Mogu\u0107nost zaraze u toku darivanja krvi ne postoji.",Object(N.jsx)("br",{}),"Sav pribor za uzimanje krvi - igle, plasti\u010dne kese i ostali materijal koji se koristi ",Object(N.jsx)("br",{}),"prilikom uzimanja krvi su sterilni i za jednokratnu su upotrebu. Pribor je napravljen ",Object(N.jsx)("br",{}),"na na\u010din koji onemogu\u0107uje njegovu ponovnu upotrebu."]}),Object(N.jsx)("label",{className:"naslov",children:"RAZVIJA LI SE OVISNOST ZA DARIVANJE KRVI?"}),Object(N.jsxs)("p",{className:"paragraf",children:["Darivanje krvi ne uzrokuje ovisnost!",Object(N.jsx)("br",{}),"Darivanje krvi mo\u017ee se zapo\u010deti i prestati u svako doba izme\u0111u 18. i 65. godine \u017eivota.",Object(N.jsx)("br",{}),"Darivanjem krvi ne nastaju nikakve \u0161tetne tjelesne promjene ili posljedice po organizam.",Object(N.jsx)("br",{}),"Neki ljudi se ipak bolje osje\u0107aju nakon \u0161to daruju krv i zato daruju krv nekoliko puta godi\u0161nje.",Object(N.jsx)("br",{}),"Ta je pojava \u010de\u0161\u0107a u osoba s blago povi\u0161enim krvnim tlakom. Kod tih osoba je darivanje krvi ujedno",Object(N.jsx)("br",{}),"i na\u010din ubla\u017eavanja simptoma uzrokovanih blagim povi\u0161enjem krvnog tlaka, ali nije na\u010din lije\u010denja",Object(N.jsx)("br",{}),"povi\u0161enog tlaka."]})]}):null]}),Object(N.jsxs)("div",{className:"desni",children:[Object(N.jsx)("br",{}),Object(N.jsxs)("label",{className:"naslov",children:["Za vi\u0161e detalja o darivanju krvi posjetite ",Object(N.jsx)("a",{href:"https://www.ztmfbih.ba/",children:"ZZTMFBIH"}),"."]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{className:"naslov",children:"Prijavite se na sistem za donaciju krvi."}),Object(N.jsxs)("button",{className:"Login",children:[" ",Object(N.jsx)(o.b,{className:"openLogin",to:"/login",children:"Login"})]}),Object(N.jsx)("br",{})]})]})]})}}]),a}(n.Component),I=(a(44),a(307),a(17)),y=a.n(I),z=a(47),B=(a(157),function(e,t){var a=new z.default;a.setFontSize(18),a.setFillColor(135,124,45,0);var n=[];e.forEach((function(e){var t=e.user.typeOfBlood.rhFactor?"+":"-",a=e.receiver.typeOfBlood.rhFactor?"+":"-",s=[y()(e.donationDate).format("DD-MM-YYYY"),e.user.firstname+" "+e.user.lastname+"\n Krvna grupa:"+e.user.typeOfBlood.bloodType+t,e.receiver.firstname+" "+e.receiver.lastname+"\n Krvna grupa:"+e.receiver.typeOfBlood.bloodType+a,e.donationPlace,e.bloodQuantity];n.push(s)})),a.autoTable(["Datum donacije","Donator","Primalac","Mjesto donacije","Kolicina doniranih doza"],n,{startY:20});var s=Date().split(" "),i=s[0]+s[1]+s[2]+s[3]+s[4];a.text(t,14,15),a.save("report_donations_".concat(i,".pdf"))}),C=a.p+"static/media/find.17b4fccc.png",M="data:image/png;base64,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",T=a.p+"static/media/add.a990822d.png",P=a.p+"static/media/show_details.01e6dedc.png",R=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){return!(n.state.NOVObloodQuantity<0)||(n.setState({errorMessage:"Unesite kolicinu doniranih doza, broj ne moze biti negativan."}),!1)},n.handleChangeMjesec=function(e){e&&n.setState({traziMjesec:e.target.value})},n.state=Object(l.a)({donacije:[],donacijeSVE:[],donacijaODABRANA:{},user:{},donationDate:"",donationPlace:"",bloodQuantity:"",AllUsers:{},mjesto:"",filterUsername:"",errorMessage:"",showMe:!1,NOVOdonationPlace:"",NOVObloodQuantity:0,showDonator:!1,donatorODABRANI:{},nextDonationDate:"",traziMjesec:0,traziGodina:"",poruka:"Izvjestaj",mjesec:[{value:"0",label:""},{value:"1",label:"Januar"},{value:"2",label:"Februar"},{value:"3",label:"Mart"},{value:"4",label:"April"},{value:"5",label:"Maj"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"August"},{value:"9",label:"Septembar"},{value:"10",label:"Oktobar"},{value:"11",label:"Novembar"},{value:"12",label:"Decembar"}],odDatuma:null,doDatuma:null},"errorMessage",""),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/donations",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({donacije:a});var n=t.data;e.setState({donacijeSVE:n})}))}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value)),""==e.target.value&&this.setState({donacije:this.state.donacijeSVE})}},{key:"filterByUser",value:function(e){var t=this;e.preventDefault(),""!==this.state.filterUsername?m.a.get(localStorage.getItem("home_link")+"/donations/user?username="+this.state.filterUsername,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({donacije:a}),t.render()})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):this.setState({errorMessage:"Unesite username korisnika po kojem zelite filtrirati."})}},{key:"filterByMjesto",value:function(e){var t=this;e.preventDefault(),0!==this.state.mjesto.length?m.a.get(localStorage.getItem("home_link")+"/donations/donationPlace?donationPlace="+this.state.mjesto,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({donacije:a})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):this.setState({errorMessage:"Unesite naziv mjesta po kojem zelite filtrirati."})}},{key:"uredi",value:function(e,t){"ADMIN"===localStorage.getItem("role")||"EMPLOYEE_DOCTOR"===localStorage.getItem("role")||"EMPLOYEE_MEDICAL_TECH"===localStorage.getItem("role")?(this.setState({donacijaODABRANA:t}),this.setState({showMe:!0})):alert("Opcija omogu\u0107ena samo za privilegovanog korisnika.")}},{key:"modifikujPodatke",value:function(e){var t=this;e.preventDefault(),0==this.state.NOVObloodQuantity&&(this.state.NOVObloodQuantity=this.state.donacijaODABRANA.bloodQuantity),""==this.state.NOVOdonationPlace&&(this.state.NOVOdonationPlace=this.state.donacijaODABRANA.donationPlace),this.validateForm()?(m.a.put(localStorage.getItem("home_link")+"/donations/"+this.state.donacijaODABRANA.id,{user:this.state.donacijaODABRANA.user,receiver:this.state.donacijaODABRANA.receiver,donationDate:this.state.donacijaODABRANA.donationDate,donationPlace:this.state.NOVOdonationPlace,bloodQuantity:this.state.NOVObloodQuantity},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(t.props.history.push("/"),alert("Uspje\u0161no izmijenjeni podaci"))})).catch((function(e){console.log(e.response.data.message.toString())})),this.setState({showMe:!1}),m.a.get(localStorage.getItem("home_link")+"/donations",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({donacije:a});var n=e.data;t.setState({donacijeSVE:n})}))):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})}},{key:"prikazDonatora",value:function(e,t){e.preventDefault(),this.setState({donatorODABRANI:t}),this.setState({showDonator:!0})}},{key:"kreirajIzvjestaj",value:function(e){e.preventDefault();var t=[];if(""!=this.state.traziGodina&&0!=this.state.traziMjesec){for(var a=0;a<this.state.donacijeSVE.length;a++){var n=this.state.donacijeSVE[a];(i=new Date(n.donationDate)).getFullYear()==this.state.traziGodina&&i.getMonth()==this.state.traziMjesec-1&&t.push(n)}this.state.poruka="Mjese\u010dni izvje\u0161taj realizovanih donacija krvi za mjesec "+this.state.traziMjesec}else if(""!=this.state.traziGodina){for(var s=0;s<this.state.donacijeSVE.length;s++){var i,r=this.state.donacijeSVE[s];(i=new Date(r.donationDate)).getFullYear()==this.state.traziGodina&&t.push(r)}this.state.poruka="Godi\u0161nji izvje\u0161taj realizovanih donacija krvi za godinu "+this.state.traziGodina}else t=this.state.donacijeSVE,this.state.poruka="Izvje\u0161taj svih realizovanih donacija krvi.";B(t,this.state.poruka)}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"userView",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:"Tabela donacija"})]}),Object(N.jsx)("div",{children:Object(N.jsxs)("table",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Donator krvi id"}),Object(N.jsx)("th",{children:"Primalac krvi id"}),Object(N.jsx)("th",{children:"Datum donacije"}),Object(N.jsx)("th",{children:"Mjesto donacije"}),Object(N.jsx)("th",{children:"Koli\u010dina doniranih doza"}),Object(N.jsx)("th",{children:"Uredi podatke"}),Object(N.jsx)("th",{children:"Detalji o osobi koja je donirala krv"}),Object(N.jsx)("th",{children:"Detalji o osobi koja je primila doniranu krv"})]}),this.state.donacije.map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t.user.id}),Object(N.jsx)("td",{children:t.receiver.id}),Object(N.jsx)("td",{children:y()(t.donationDate).format("DD-MM-YYYY")}),Object(N.jsx)("td",{children:t.donationPlace}),Object(N.jsx)("td",{children:t.bloodQuantity}),Object(N.jsx)("td",{children:Object(N.jsxs)("button",{className:"tabelaButton",onClick:function(a){return e.uredi(a,t)},children:[Object(N.jsx)("img",{className:"icons",src:M}),"Uredi"]})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"tabelaButton",onClick:function(a){return e.prikazDonatora(a,t.user)},children:"Prika\u017ei detalje o donatoru"})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"tabelaButton",onClick:function(a){return e.prikazDonatora(a,t.receiver)},children:"Prika\u017ei detalje o primaocu krvi"})})]},t.id)}))]})}),Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Filtriraj podatke u tabeli"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto donacije",name:"mjesto"}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByMjesto(t)},children:[Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po mjestu donacije"]}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Username",name:"filterUsername"}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByUser(t)},children:[Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po donatoru"]}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage})]}),Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Kreiraj izvje\u0161taj"})})}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:["Kreiraj mjese\u010dni/godi\u0161nji izvje\u0161taj",Object(N.jsx)("br",{}),"Ukoliko \u017eelite godi\u0161nji izvje\u0161taj, odaberite godinu.",Object(N.jsx)("br",{}),"Ukoliko \u017eelite mjese\u010dni izvje\u0161taj odaberite i mjesec i godinu."]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Izvje\u0161taj za mjesec: "}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeMjesec(t)},value:this.state.traziMjesec,name:"traziMjesec",children:this.state.mjesec.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsx)("input",{className:"loginInput",type:"number",onChange:function(t){return e.handleChange(t)},placeholder:"Izvje\u0161taj za godinu: ",name:"traziGodina"}),Object(N.jsx)("button",{className:"loginButton",onClick:function(t){return e.kreirajIzvjestaj(t)},type:"submit",children:"Kreiraj mjese\u010dni/godi\u0161nji izvje\u0161taj"})]})]}),this.state.showMe?Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Izmijeni podatke odabrane donacije"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto donacije",name:"NOVOdonationPlace"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"number",onChange:function(t){return e.handleChange(t)},placeholder:"Kolicina doza krvi",name:"NOVObloodQuantity"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("button",{className:"backButton",onClick:function(t){e.setState({showMe:!1})},type:"submit",children:" Nazad"}),Object(N.jsx)("button",{className:"okButton",onClick:function(t){return e.modifikujPodatke(t)},type:"submit",children:" Promijeni podatke"})]}):null,this.state.showDonator?Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsx)("img",{className:"icons",src:P}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Detaljni prikaz podataka odabranog korisnika"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Ime i prezime: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.firstname}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.lastname}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Krvna grupa: "})}),Object(N.jsx)("lable",{children:this.state.donatorODABRANI.typeOfBlood.bloodType}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.typeOfBlood.rhFactor?"+":"-"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Datum ro\u0111enja: "})}),Object(N.jsx)("label",{children:y()(this.state.donatorODABRANI.birthDate).format("DD-MM-YYYY")}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Spol: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.gender}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Mjesto prebivali\u0161ta: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.residencePlace}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Adresa: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.address}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Broj telefona: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.phoneNumber}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Email: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.email}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Potrebna donacija: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.donationNeeded?"Da":"Ne"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Username: "})}),Object(N.jsx)("label",{children:this.state.donatorODABRANI.username}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"backButton",onClick:function(t){e.setState({showDonator:!1})},type:"submit",children:" Nazad"})]}):null]})}}]),a}(n.Component),V=(a(308),a.p+"static/media/user.58de24df.png"),U=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={userId:"",username:"",firstname:"",lastname:"",birthDate:"",typeOfBlood:{id:"",bloodType:"",rhFactor:!0},rh:!0,residencePlace:"",address:"",phoneNumber:"",gender:"",donationNeeded:!0,email:"",role:{roleName:""},userData:{},token:"",nextDonationDate:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/user/username?username="+localStorage.getItem("username"),{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({userData:a});var n=e.state.userData.typeOfBlood;e.setState({typeOfBlood:n});var s=e.state.userData.role;e.setState({role:s})})).catch((function(e){void 0!==e.response.data.errors&&p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})}))}},{key:"nextDonationPosible",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/donations/user?username="+localStorage.getItem("username"),{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data,n=Object.keys(a).length,s="",i=0;if(a.forEach((function(e){(0===i||e.donationDate>s)&&(s=e.donationDate),i+1<n&&i++})),""!=s){var r=0,o=0,c=(s=new Date(s)).getDate();s.getMonth()>7&&(o=s.getFullYear()+1),s.getMonth()<=7&&(o=s.getFullYear()),console.log("trenutni datum:"+r+" "+c+" "+o),"Z"===e.state.gender&&(r=s.getMonth()+4),"M"===e.state.gender&&(r=s.getMonth()+3),e.state.nextDonationDate=c+"-"+r+"1-"+o}e.state.nextDonationDate=y()().format("DD-MM-YYYY")}))}},{key:"render",value:function(){return Object(N.jsxs)("div",{className:"glavni",children:[Object(N.jsxs)("div",{className:"naslov",children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:" Detalji o meni"})]}),Object(N.jsx)("div",{className:"left",children:Object(N.jsx)("img",{className:"slika",src:V,alt:"User details"})}),Object(N.jsxs)("div",{className:"right",children:[Object(N.jsxs)("div",{className:"okvir",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Ime i prezime: "})}),Object(N.jsx)("label",{children:this.state.userData.firstname}),Object(N.jsx)("label",{children:this.state.userData.lastname})]}),Object(N.jsxs)("div",{className:"okvir",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Krvna grupa: "})}),Object(N.jsx)("lable",{children:this.state.typeOfBlood.bloodType}),Object(N.jsx)("label",{children:this.state.typeOfBlood.rhFactor?"+":"-"})]}),Object(N.jsxs)("div",{className:"okvir",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Datum ro\u0111enja: "})}),Object(N.jsx)("label",{children:y()(this.state.userData.birthDate).format("DD-MM-YYYY")}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Spol: "})}),Object(N.jsx)("label",{children:this.state.userData.gender})]}),Object(N.jsxs)("div",{className:"okvir",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Mjesto prebivali\u0161ta: "})}),Object(N.jsx)("label",{children:this.state.userData.residencePlace}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Adresa: "})}),Object(N.jsx)("label",{children:this.state.userData.address}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Broj telefona: "})}),Object(N.jsx)("label",{children:this.state.userData.phoneNumber}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Email: "})}),Object(N.jsx)("label",{children:this.state.email})]}),Object(N.jsxs)("div",{className:"okvir",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Potrebna donacija: "})}),Object(N.jsx)("label",{children:this.state.userData.donationNeeded?"Da":"Ne"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Username: "})}),Object(N.jsx)("label",{children:this.state.userData.username}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Uloga: "})}),Object(N.jsx)("label",{children:this.state.role.roleName})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:"Sljede\u0107a donacija mogu\u0107a:"})}),Object(N.jsx)("label",{onLoad:this.nextDonationPosible(),children:this.state.nextDonationDate})]})]})]})}}]),a}(n.Component),w=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){var e=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i);return n.state.NOVOpassword.length>0&&n.state.NOVOpassword.length<8?(n.setState({errorMessage:"Potrebno je da password ima najmanje 8 znakova."}),!1):n.state.NOVOlastname.length>0&&n.state.NOVOlastname.length<3?(n.setState({errorMessage:"Potrebno je da prezime ima najmanje 3 znaka."}),!1):!(n.state.NOVOemail.length>0&&!e.test(n.state.NOVOemail))||(n.setState({errorMessage:"Email nije validan."}),!1)},n.handleChangeTipKrvi=function(e){e&&n.setState({blood:e.target.value}),""==e.target.value&&n.setState({useri:n.state.useriSVI})},n.handleChangeRh=function(e){e&&n.setState({rhF:e.target.value}),""==e.target.value&&n.setState({useri:n.state.useriSVI})},n.handleChangePotrebnaDonacija=function(e){e&&n.setState({NOVOdonationNeeded:e.target.value})},n.state={useri:[],useriSVI:[],userODABRANI:{},username:"",firstname:"",lastname:"",birthDate:"",typeOfBlood:{},residencePlace:"",address:"",phoneNumber:"",gender:"",donationNeeded:!0,email:"",role:{},blood:"",rhF:!0,tipKrvi:[{value:"",label:""},{value:"A",label:"A"},{value:"B",label:"B"},{value:"AB",label:"AB"},{value:"0",label:"0"}],rh:[{value:"",label:""},{value:!0,label:"+"},{value:!1,label:"-"}],korisnik:"",errorMessage:"",NOVOlastname:"",NOVOpassword:"",NOVOresidencePlace:"",NOVOaddress:"",NOVOphoneNumber:"",NOVOdonationNeeded:!0,NOVOemail:"",potrebnaDonacija:[{value:!0,label:"Da"},{value:!1,label:"Ne"}],showMe:!1},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.popUpResponse=n.popUpResponse.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/user",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({useri:a});var n=t.data;e.setState({useriSVI:n}),console.log(e.state.useri)}))}},{key:"popUpResponse",value:function(e,t){}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value)),""==e.target.value&&this.setState({useri:this.state.useriSVI})}},{key:"filterByTipKrvi",value:function(e){var t=this;console.log(this.state.blood),console.log(this.state.rhF),e.preventDefault(),""!=this.state.tipKrvi?m.a.get(localStorage.getItem("home_link")+"/user/bloodType?bloodType="+this.state.blood+"&rhFactor="+this.state.rhF,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({useri:a}),t.render()})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):this.setState({errorMessage:"Unesite tip krvi po kojem zelite filtrirati."})}},{key:"filterByUsername",value:function(e){var t=this;e.preventDefault(),""!=this.state.korisnik?m.a.get(localStorage.getItem("home_link")+"/user/username?username="+this.state.korisnik,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=[];a.push(e.data),t.setState({useri:a})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):this.setState({errorMessage:"Unesite username po kojem zelite filtrirati."})}},{key:"uredi",value:function(e,t){"ADMIN"===localStorage.getItem("role")?(this.setState({userODABRANI:t}),this.setState({showMe:!0})):alert("Opcija omogu\u0107ena samo za privilegovanog korisnika.")}},{key:"modifikujPodatke",value:function(e){var t=this;e.preventDefault();this.state.userODABRANI;""==this.state.NOVOlastname&&(this.state.NOVOlastname=this.state.userODABRANI.lastname),""==this.state.NOVOpassword&&(this.state.NOVOpassword=this.state.userODABRANI.password),""==this.state.NOVOresidencePlace&&(this.state.NOVOresidencePlace=this.state.userODABRANI.residencePlace),""==this.state.NOVOaddress&&(this.state.NOVOaddress=this.state.userODABRANI.address),""==this.state.NOVOphoneNumber&&(this.state.NOVOphoneNumber=this.state.userODABRANI.phoneNumber),""==this.state.NOVOemail&&(this.state.NOVOemail=this.state.userODABRANI.email),this.validateForm()?(m.a.put(localStorage.getItem("home_link")+"/user/"+this.state.userODABRANI.id,{typeOfBlood:this.state.userODABRANI.typeOfBlood,role:this.state.userODABRANI.role,username:this.state.userODABRANI.username,password:this.state.NOVOpassword,firstname:this.state.userODABRANI.firstname,lastname:this.state.NOVOlastname,birthDate:this.state.userODABRANI.birthDate,email:this.state.NOVOemail,residencePlace:this.state.NOVOresidencePlace,address:this.state.NOVOaddress,phoneNumber:this.state.NOVOphoneNumber,gender:this.state.userODABRANI.gender,donationNeeded:this.state.NOVOdonationNeeded},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(t.props.history.push("/"),alert("Uspje\u0161no izmijenjeni podaci."))})).catch((function(e){console.log(e.response.data.message.toString())})),this.setState({showMe:!1}),m.a.get(localStorage.getItem("home_link")+"/user",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({useri:a});var n=e.data;t.setState({useriSVI:n})}))):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"userView",children:[Object(N.jsx)("img",{className:"sl",src:"data:image/png;base64,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"}),Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:" Lista korisnika"}),Object(N.jsx)("div",{children:Object(N.jsxs)("table",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Ime "}),Object(N.jsx)("th",{children:"Prezime"}),Object(N.jsx)("th",{children:"Username "}),Object(N.jsx)("th",{children:"Datum ro\u0111enja"}),Object(N.jsx)("th",{children:"Krvna grupa"}),Object(N.jsx)("th",{children:"Spol"}),Object(N.jsx)("th",{children:"Broj telefona"}),Object(N.jsx)("th",{children:"Mjesto prebivali\u0161ta"}),Object(N.jsx)("th",{children:"Adresa "}),Object(N.jsx)("th",{children:"Dotrebna donacija"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Uloga"}),Object(N.jsx)("th",{children:"Uredi podatke"})]}),this.state.useri.map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t.firstname}),Object(N.jsxs)("td",{children:[t.lastname," "]}),Object(N.jsx)("td",{children:t.username}),Object(N.jsx)("td",{children:y()(t.birthDate).format("DD-MM-YYYY")}),Object(N.jsxs)("td",{children:[t.typeOfBlood.bloodType,t.typeOfBlood.rhFactor?"+":"-"]}),Object(N.jsx)("td",{children:t.gender}),Object(N.jsx)("td",{children:t.phoneNumber}),Object(N.jsx)("td",{children:t.residencePlace}),Object(N.jsx)("td",{children:t.address}),Object(N.jsx)("td",{children:t.donationNeeded?"Da":"Ne"}),Object(N.jsx)("td",{children:t.email}),Object(N.jsx)("td",{children:t.role.roleName}),Object(N.jsx)("td",{children:Object(N.jsxs)("button",{className:"tabelaButton",onClick:function(a){return e.uredi(a,t)},children:[" ",Object(N.jsx)("img",{className:"icons",src:M}),"Uredi"]})})]},t.id)}))]})}),Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Filtriraj podatke u tabeli"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeTipKrvi(t)},value:this.state.blood,name:"blood",children:this.state.tipKrvi.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeRh(t)},value:this.state.rhF,name:"rhF",children:this.state.rh.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByTipKrvi(t)},children:[" ",Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po krvnoj grupi"]}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Username korisnika",name:"korisnik"}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByUsername(t)},children:[" ",Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po username-u"]}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage})]}),this.state.showMe?Object(N.jsxs)("div",{className:"popup",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Izmijeni podatke odabranog korisnika"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Prezime",name:"NOVOlastname"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"password",onChange:function(t){return e.handleChange(t)},placeholder:"Password",name:"NOVOpassword"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"email",onChange:function(t){return e.handleChange(t)},placeholder:"Email",name:"NOVOemail"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto prebivalista",name:"NOVOresidencePlace"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Adresa",name:"NOVOaddress"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Broj telefona",name:"NOVOphoneNumber"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:"Korisniku je potrebna donacija krvi"}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangePotrebnaDonacija(t)},value:this.state.NOVOdonationNeeded,name:"NOVOdonationNeeded",children:this.state.potrebnaDonacija.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("button",{className:"backButton",onClick:function(t){e.setState({showMe:!1})},type:"submit",children:" Nazad"}),Object(N.jsx)("button",{className:"okButton",onClick:function(t){return e.modifikujPodatke(t)},type:"submit",children:" Promijeni podatke"})]}):null]})}}]),a}(n.Component),F=(a(309),function(e,t){var a=new z.default;a.setFontSize(18),a.setFillColor(135,124,45,0);var n=[];e.forEach((function(e){var t=e.user.typeOfBlood.rhFactor?"+":"-",a=[y()(e.publishingDate).format("DD-MM-YYYY"),e.user.typeOfBlood.bloodType+t,e.placeOfNeededDonation,e.bloodQuantityNeeded];n.push(a)})),a.autoTable(["Datum objave potrebne transfuzije","Potrebna krvna grupa","Mjesto potrebne transfuzije","Kolicina potrebnih doza"],n,{startY:20});var s=Date().split(" "),i=s[0]+s[1]+s[2]+s[3]+s[4];a.text(t,14,15),a.save("report_transfusions_".concat(i,".pdf"))}),K=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){return!(n.state.NOVObloodQuantityNeeded<0)||(n.setState({errorMessage:"Unesite ispravan broj potrebnih donacija, ne mo\u017ee biti negativan."}),!1)},n.handleChangeMjesec=function(e){e&&n.setState({traziMjesec:e.target.value})},n.handleChangeHitnost=function(e){e&&n.setState({hitnost:e.target.value}),""==e.target.value&&n.setState({transfuzije:n.state.transfuzijeSVE})},n.handleChangeHitno=function(e){e&&n.setState({NOVOemergency:e.target.value})},n.state={transfuzije:[],transfuzijeSVE:[],transfuzijaODABRANA:{},bloodType:{},placeOfNeededDonation:"",publishingDate:"",emergency:!1,bloodQuantityNeeded:"",details:"",trans:{},tipKrvi:"",hitnost:!0,hitno:[{value:"",label:""},{value:!0,label:"Da"},{value:!1,label:"Ne"}],mjestoPotrebne:"",showMe:!1,NOVOplaceOfNeededDonation:"",NOVOemergency:!1,NOVObloodQuantityNeeded:"",NOVOdetails:"",traziMjesec:0,traziGodina:"",poruka:"Izvjestaj",mjesec:[{value:"0",label:""},{value:"1",label:"Januar"},{value:"2",label:"Februar"},{value:"3",label:"Mart"},{value:"4",label:"April"},{value:"5",label:"Maj"},{value:"6",label:"Juni"},{value:"7",label:"Juli"},{value:"8",label:"August"},{value:"9",label:"Septembar"},{value:"10",label:"Oktobar"},{value:"11",label:"Novembar"},{value:"12",label:"Decembar"}],odDatuma:null,doDatuma:null,errorMessage:""},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"realizovanaTransfuzija",value:function(e,t){e.preventDefault(),"ADMIN"===localStorage.getItem("role")?(sessionStorage.setItem("primalac",t.user.id),sessionStorage.setItem("idt",t.id),this.props.history.push("/admin/dodaj_donaciju")):"EMPLOYEE_DOCTOR"===localStorage.getItem("role")?(sessionStorage.setItem("primalac",t.user.id),sessionStorage.setItem("idt",t.id),this.props.history.push("/employeeDoctor/dodaj_donaciju")):alert("Opcija omogu\u0107ena samo za privilegovanog korisnika.")}},{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/transfusionTable",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({transfuzije:a});var n=t.data;e.setState({transfuzijeSVE:n})}))}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value)),""==e.target.value&&this.setState({transfuzije:this.state.transfuzijeSVE})}},{key:"filterByTipKrvi",value:function(e){var t=this;e.preventDefault(),""!=this.state.tipKrvi?m.a.get(localStorage.getItem("home_link")+"/transfusionTable/transfusions/blood_type?bloodType="+this.state.tipKrvi,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({transfuzije:a}),t.render()})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):this.setState({errorMessage:"Unesite tip krvi po kojem zelite filtrirati."})}},{key:"filterByHitnost",value:function(e){var t=this;e.preventDefault(),m.a.get(localStorage.getItem("home_link")+"/transfusionTable/transfusions/emergency?emergency="+this.state.hitnost,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({transfuzije:a})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})}))}},{key:"filterByPotrebnomMjestu",value:function(e){var t=this;e.preventDefault(),""!=this.state.mjestoPotrebne?m.a.get(localStorage.getItem("home_link")+"/transfusionTable/transfusions/place_of_needed_donation?place_of_needed_donation="+this.state.mjestoPotrebne,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({transfuzije:a})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):this.setState({errorMessage:"Unesite naziv mjesta po kojem zelite filtrirati."})}},{key:"uredi",value:function(e,t){"ADMIN"===localStorage.getItem("role")||"EMPLOYEE_DOCTOR"===localStorage.getItem("role")||"EMPLOYEE_MEDICAL_TECH"===localStorage.getItem("role")?(this.setState({transfuzijaODABRANA:t}),this.setState({showMe:!0})):alert("Opcija omogu\u0107ena samo za privilegovanog korisnika.")}},{key:"modifikujPodatke",value:function(e){var t=this;e.preventDefault(),""==this.state.NOVOplaceOfNeededDonation&&(this.state.NOVOplaceOfNeededDonation=this.state.transfuzijaODABRANA.placeOfNeededDonation),""==this.state.NOVObloodQuantityNeeded&&(this.state.NOVObloodQuantityNeeded=this.state.transfuzijaODABRANA.bloodQuantityNeeded),""==this.state.NOVOdetails&&(this.state.NOVOdetails=this.state.transfuzijaODABRANA.details),this.validateForm()?(m.a.put(localStorage.getItem("home_link")+"/transfusionTable/"+this.state.transfuzijaODABRANA.id,{bloodType:this.state.transfuzijaODABRANA.bloodType,user:this.state.transfuzijaODABRANA.user,placeOfNeededDonation:this.state.NOVOplaceOfNeededDonation,publishingDate:this.state.transfuzijaODABRANA.publishingDate,emergency:this.state.NOVOemergency,bloodQuantityNeeded:this.state.NOVObloodQuantityNeeded,details:this.state.NOVOdetails},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(t.props.history.push("/"),alert("Uspje\u0161no izmijenjeni podaci."))})).catch((function(e){console.log(e.response.data.message.toString())})),this.setState({showMe:!1}),m.a.get(localStorage.getItem("home_link")+"/transfusionTable",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){var a=e.data;t.setState({transfuzije:a});var n=e.data;t.setState({transfuzijeSVE:n})}))):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})}},{key:"kreirajIzvjestaj",value:function(e){e.preventDefault();var t=[];if(""!=this.state.traziGodina&&0!=this.state.traziMjesec){for(var a=0;a<this.state.transfuzijeSVE.length;a++){var n=this.state.transfuzijeSVE[a];(i=new Date(n.publishingDate)).getFullYear()==this.state.traziGodina&&i.getMonth()==this.state.traziMjesec-1&&t.push(n)}this.state.poruka="Mjese\u010dni izvje\u0161taj transfuzija krvi za mjesec "+this.state.traziMjesec}else if(""!=this.state.traziGodina){for(var s=0;s<this.state.transfuzijeSVE.length;s++){var i,r=this.state.transfuzijeSVE[s];(i=new Date(r.publishingDate)).getFullYear()==this.state.traziGodina&&t.push(r)}this.state.poruka="Godi\u0161nji izvje\u0161taj transfuzija krvi za godinu "+this.state.traziGodina}else t=this.state.transfuzijeSVE,this.state.poruka="Izvje\u0161taj svih transfuzija krvi.";F(t,this.state.poruka)}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"userView",children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:"Tabela potrebnih transfuzija/donacija krvi"}),Object(N.jsx)("div",{children:Object(N.jsxs)("table",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Doniraj"}),Object(N.jsx)("th",{children:"Potrebna krvna grupa"}),Object(N.jsx)("th",{children:"Mjesto"}),Object(N.jsx)("th",{children:"Datum"}),Object(N.jsx)("th",{children:"Da li je hitno potrebna krv"}),Object(N.jsx)("th",{children:"Koli\u010dina potrebnih doza"}),Object(N.jsx)("th",{children:"Detalji"}),Object(N.jsx)("th",{children:"Izmijeni podatke"})]}),this.state.transfuzije.map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"tabelaButton",onClick:function(a){return e.realizovanaTransfuzija(a,t)},children:"Doniraj"})}),Object(N.jsxs)("td",{children:[t.bloodType.bloodType," ",t.bloodType.rhFactor?"+":"-"]}),Object(N.jsx)("td",{children:t.placeOfNeededDonation}),Object(N.jsx)("td",{children:y()(t.publishingDate).format("DD-MM-YYYY")}),Object(N.jsx)("td",{children:t.emergency?"Da":"Ne"}),Object(N.jsx)("td",{children:t.bloodQuantityNeeded}),Object(N.jsx)("td",{children:t.details}),Object(N.jsx)("td",{children:Object(N.jsxs)("button",{className:"tabelaButton",onClick:function(a){return e.uredi(a,t)},children:[Object(N.jsx)("img",{className:"icons",src:M}),"Uredi"]})})]},t.id)}))]})}),Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Filtriraj podatke u tabeli"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Tip krvi (A,B...)",name:"tipKrvi"}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByTipKrvi(t)},children:[Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po tipu krvi"]}),Object(N.jsx)("br",{}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeHitnost(t)},value:this.state.hitnost,name:"hitnost",children:this.state.hitno.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByHitnost(t)},children:[Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po hitnosti"]}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto potrebne transfuzije",name:"mjestoPotrebne"}),Object(N.jsxs)("button",{className:"loginButton",type:"submit",onClick:function(t){return e.filterByPotrebnomMjestu(t)},children:[Object(N.jsx)("img",{className:"icons",src:C}),"Filtriraj listu po mjestu potrebne transfuzije"]}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage})]}),Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Kreiraj izvje\u0161taj"})})}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:["Kreiraj mjese\u010dni/godi\u0161nji izvje\u0161taj",Object(N.jsx)("br",{}),"Ukoliko \u017eelite godi\u0161nji izvje\u0161taj, odaberite godinu.",Object(N.jsx)("br",{}),"Ukoliko \u017eelite mjese\u010dni izvje\u0161taj odaberite i mjesec i godinu."]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Izvje\u0161taj za mjesec: "}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeMjesec(t)},value:this.state.traziMjesec,name:"traziMjesec",children:this.state.mjesec.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsx)("input",{className:"loginInput",type:"number",onChange:function(t){return e.handleChange(t)},placeholder:"Izvje\u0161taj za godinu: ",name:"traziGodina"}),Object(N.jsx)("button",{className:"loginButton",onClick:function(t){return e.kreirajIzvjestaj(t)},type:"submit",children:"Kreiraj mjese\u010dni/godi\u0161nji izvje\u0161taj"})]})]}),this.state.showMe?Object(N.jsxs)("div",{className:"filteri",children:[Object(N.jsx)("label",{children:Object(N.jsx)("b",{children:Object(N.jsx)("i",{children:"Izmijeni podatke odabrane transfuzije"})})}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto potrebne donacije",name:"NOVOplaceOfNeededDonation"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"number",onChange:function(t){return e.handleChange(t)},placeholder:"Kolicina potrebnih doza krvi",name:"NOVObloodQuantityNeeded"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Detalji",name:"NOVOdetails"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:"Hitno potrebna transfuzija: "}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeHitno(t)},value:this.state.NOVOemergency,name:"NOVOemergency",children:this.state.hitno.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("button",{className:"backButton",onClick:function(t){e.setState({showMe:!1})},type:"submit",children:" Nazad"}),Object(N.jsx)("button",{className:"okButton",onClick:function(t){return e.modifikujPodatke(t)},type:"submit",children:" Promijeni podatke"})]}):null]})}}]),a}(n.Component),E=(a(45),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e;return Object(N.jsxs)("nav",{className:"navbar",children:[Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{to:"/admin/profil",children:Object(N.jsx)("li",{children:"Moj profil"})}),Object(N.jsx)(o.b,{to:"/admin/lista_profila",children:Object(N.jsx)("li",{children:"Pregled korisnika"})}),Object(N.jsx)(o.b,{to:"/admin/transfuzije_krvi",children:Object(N.jsx)("li",{children:"Pregled potrebnih transfuzija krvi"})}),Object(N.jsx)(o.b,{to:"/admin/tablica_donacija",children:Object(N.jsx)("li",{children:"Tabelarni pregled donacija"})})]}),Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{className:"linkovi",to:"/admin/kreiraj_profil",children:Object(N.jsx)("li",{children:"Kreiraj novog korisnika"})}),Object(N.jsx)(o.b,{className:"linkovi",to:"/admin/dodaj_transfuziju",children:Object(N.jsx)("li",{children:"Dodaj novu potrebnu transfuziju"})}),Object(N.jsx)(o.b,(e={className:"linkovi"},Object(l.a)(e,"className","linkovi"),Object(l.a)(e,"to","/admin/dodaj_donaciju"),Object(l.a)(e,"children",Object(N.jsx)("li",{children:"Dodaj donaciju"})),e)),Object(N.jsx)(o.b,{className:"linkovi",to:"/admin/dodaj_rolu",children:Object(N.jsx)("li",{children:"Dodaj ulogu"})}),Object(N.jsx)(o.b,{className:"linkovi",to:"/admin/dodaj_grupu",children:Object(N.jsx)("li",{children:"Dodaj krvnu grupu"})})]})]})}}]),a}(n.Component)),H=a.p+"static/media/user-add-icon.8d64a663.png",G=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){var e=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i);return 0===n.state.uloga.length?(n.setState({errorMessage:"Ne postoje uloge u bazi, prvo kreirajte uloge"}),!1):0===n.state.krvneGrupe.length?(n.setState({errorMessage:"Ne postoje krvne grupe u bazi, prvo kreirajte krvne grupe"}),!1):n.state.username.length<6?(n.setState({errorMessage:"Potrebno je da username ima najmanje 6 znakova."}),!1):n.state.password.length<8?(n.setState({errorMessage:"Potrebno je da password ima najmanje 8 znakova."}),!1):n.state.firstname.length<3?(n.setState({errorMessage:"Potrebno je da ime ima najmanje 3 znaka."}),!1):n.state.lastname.length<3?(n.setState({errorMessage:"Potrebno je da prezime ima najmanje 3 znaka."}),!1):""===n.state.birthDate?(n.setState({errorMessage:"Unesite datum rodjenja."}),!1):e.test(n.state.email)?0===n.state.residencePlace.length?(n.setState({errorMessage:"Unesite odgovarajuce podatke za mjesto prebivalista."}),!1):0===n.state.address.length?(n.setState({errorMessage:"Unesite odgovarajuce podatke za adresu."}),!1):0!==n.state.phoneNumber.length||(n.setState({errorMessage:"Unesite broj telefona."}),!1):(n.setState({errorMessage:"Email nije validan."}),!1)},n.handleChangeTipKrvi=function(e){if(e){var t=n.state.krvneGrupe.filter((function(t){return t.id==e.target.value}));n.setState({odabranaKrvnaGrupa:t[0],KG:e.target.value,idOdabraneKB:t[0].id})}},n.handleChangeSpol=function(e){e&&n.setState({gender:e.target.value})},n.handleChangePotrebnaDonacija=function(e){e&&n.setState({donationNeeded:e.target.value})},n.handleChangeUloga=function(e){if(e){var t=n.state.uloga.filter((function(t){return t.roleName==e.target.value}));n.setState({role:t[0]})}},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.createUser=function(e){e.preventDefault(),n.validateForm()?m.a.post(localStorage.getItem("home_link")+"/user",{typeOfBlood:n.state.odabranaKrvnaGrupa,role:n.state.role,username:n.state.username,password:n.state.password,firstname:n.state.firstname,lastname:n.state.lastname,birthDate:n.state.birthDate,email:n.state.email,residencePlace:n.state.residencePlace,address:n.state.address,phoneNumber:n.state.phoneNumber,gender:n.state.gender,donationNeeded:n.state.donationNeeded},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(n.props.history.push("/"),alert("Uspje\u0161no kreiran novi ra\u010dun."))})).catch((function(e){console.log(e.response.data.message.toString())})):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})},n.state={username:"",password:"",firstname:"",lastname:"",birthDate:"",krvneGrupe:[],odabranaKrvnaGrupa:{},KG:"",idOdabraneKB:0,residencePlace:"",address:"",phoneNumber:"",gender:"M",spol:[{value:"M",label:"Mu\u0161ko"},{value:"Z",label:"\u017densko"}],donationNeeded:!0,potrebnaDonacija:[{value:!0,label:"Da"},{value:!1,label:"Ne"}],email:"",uloga:[],role:{},errorMessage:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/role",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({uloga:a}),console.log(a),0!=e.state.uloga.length&&e.setState({role:e.state.uloga[0]})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})),m.a.get(localStorage.getItem("home_link")+"/bloodType",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({krvneGrupe:a}),console.log(e.state.krvneGrupe),0!=e.state.krvneGrupe.length&&e.setState({odabranaKrvnaGrupa:e.state.krvneGrupe[0]})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})}))}},{key:"render",value:function(){var e=this;this.state.errors;return Object(N.jsx)("div",{className:"userDiv",children:Object(N.jsxs)("form",{className:"registerForma",children:[Object(N.jsx)("img",{className:"icon_image",src:H}),Object(N.jsx)("h2",{children:"Kreiraj novog korisnika"}),Object(N.jsxs)("div",{className:"inputGroup",children:[Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Ime",name:"firstname"}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Prezime",name:"lastname"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:"Datum ro\u0111enja: "}),Object(N.jsx)("input",{className:"loginInput",type:"date",onChange:function(t){return e.handleChange(t)},placeholder:"Datum rodjenja",name:"birthDate"})]}),Object(N.jsxs)("div",{className:"inputGroup",children:[Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Username",name:"username"}),Object(N.jsx)("input",{className:"loginInput",type:"password",onChange:function(t){return e.handleChange(t)},placeholder:"Password",name:"password"}),Object(N.jsx)("input",{className:"loginInput",type:"email",onChange:function(t){return e.handleChange(t)},placeholder:"Email",name:"email"})]}),Object(N.jsxs)("div",{className:"inputGroup",children:[Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto prebivalista",name:"residencePlace"}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Adresa",name:"address"}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Broj telefona",name:"phoneNumber"})]}),Object(N.jsx)("div",{className:"inputGroup",children:Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Krvna grupa: "}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeTipKrvi(t)},value:this.state.KG,name:"KG",children:this.state.krvneGrupe.map((function(e){return Object(N.jsxs)("option",{value:e.id,children:[e.bloodType,e.rhFactor?"+":"-"]},e.id)}))}),Object(N.jsxs)("button",{className:"loginButton",children:[" ",Object(N.jsx)(o.b,{className:"openLogin",to:"/admin/dodaj_grupu",children:"Dodaj krvnu grupu"})," "]})]})}),Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Spol: "}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeSpol(t)},value:this.state.gender,name:"gender",children:this.state.spol.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Korisniku je potrebna donacija krvi"}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangePotrebnaDonacija(t)},value:this.state.donationNeeded,name:"donationNeeded",children:this.state.potrebnaDonacija.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Korisniku se dodjeljuje : "}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeUloga(t)},value:this.state.roleName,name:"roleName",children:this.state.uloga.map((function(e){return Object(N.jsx)("option",{value:e.roleName,children:e.roleName},e.roleName)}))})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("br",{}),Object(N.jsxs)("button",{className:"okButton",onClick:function(t){return e.createUser(t)},type:"submit",children:[" ",Object(N.jsx)("img",{className:"icons",src:T})," Kreiraj korisnika"]})]})]})})}}]),a}(n.Component),Q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){return 0===n.state.korisnici.length?(n.setState({errorMessage:"Ne postoje korisnici u sistemu, prvo kreirajte korisnika"}),!1):""===n.state.donationDate?(n.setState({errorMessage:"Unesite datum kada je donirana krv."}),!1):""===n.state.donationPlace?(n.setState({errorMessage:"Unesite mjesto donacije"}),!1):!(""===n.state.bloodQuantity||n.state.bloodQuantity<0)||(n.setState({errorMessage:"Unesite kolicinu doniranih doza, broj ne moze biti negativan."}),!1)},n.handleChangeKorisnici=function(e){if(e){var t=n.state.korisnici.filter((function(t){return t.id==e.target.value}));n.setState({odabrani:t[0],username:e.target.value})}},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.createDonation=function(e){if(null!=sessionStorage.getItem("primalac")){var t=sessionStorage.getItem("primalac");n.state.korisnici.forEach((function(e){e.id==t&&(n.state.primalac=e)}))}e.preventDefault(),console.log(n.state.primalac.toString()),n.validateForm()?m.a.post(localStorage.getItem("home_link")+"/donations",{user:n.state.odabrani,receiver:n.state.primalac,donationDate:n.state.donationDate,donationPlace:n.state.donationPlace,bloodQuantity:n.state.bloodQuantity},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(n.props.history.push("/"),alert("Uspjesno dodana donacija."),null!=sessionStorage.getItem("idt")&&(n.obrisi_transfuziju(sessionStorage.getItem("idt")),sessionStorage.clear()))})).catch((function(e){console.log(e.response.data.message.toString())})):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})},n.state={korisnici:[],donationDate:"",donationPlace:"",bloodQuantity:"",odabrani:{},username:"",errorMessage:"",primalac:{}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/user",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({korisnici:a}),0!==e.state.korisnici.length&&e.setState({odabrani:e.state.korisnici[0]})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})),m.a.get(localStorage.getItem("home_link")+"/user/username?username=NEREGISTROVAN",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({primalac:a})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})),console.log(this.state.primalac)}},{key:"obrisi_transfuziju",value:function(e){var t=this;m.a.delete(localStorage.getItem("home_link")+"/transfusionTable/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(t.props.history.push("/"),alert("Uspjesno obrisana donirana transfuzija."),p.a.success("Uspje\u0161no kreirana donacija",{position:p.a.POSITION.TOP_RIGHT}))})).catch((function(e){console.log(e.response.data.message.toString()),p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})}))}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{className:"userDiv",children:Object(N.jsxs)("form",{className:"registerForma",children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:" Dodaj novu realizovanu donaciju"}),Object(N.jsxs)("div",{className:"inputGroup",children:[Object(N.jsx)("label",{children:"Datum donacije: "}),Object(N.jsx)("input",{className:"loginInput",type:"date",onChange:function(t){return e.handleChange(t)},placeholder:"Datum doniranja",name:"donationDate"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto donacije",name:"donationPlace"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"number",onChange:function(t){return e.handleChange(t)},placeholder:"Kolicina donirane krvi",name:"bloodQuantity"})]}),Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Krv je donirao (username):"}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeKorisnici(t)},value:this.state.username,name:"username",children:this.state.korisnici.map((function(e){return Object(N.jsx)("option",{value:e.id,children:e.username},e.id)}))})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("br",{}),Object(N.jsxs)("button",{className:"okButton",onClick:function(t){return e.createDonation(t)},type:"submit",children:[Object(N.jsx)("img",{className:"icons",src:T}),"  Dodaj donaciju"]})]})]})})}}]),a}(n.Component),_=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){return""===n.state.placeOfNeededDonation?(n.setState({errorMessage:"Unesite mjesto donacije"}),!1):""===n.state.publishingDate?(n.setState({errorMessage:"Unesite datum objave potrebne donacije"}),!1):0===n.state.korisnici.length?(n.setState({errorMessage:"Ne postoje korisnici u sistemu, prvo kreirajte korisnika"}),!1):!(""===n.state.bloodQuantityNeeded||n.state.bloodQuantityNeeded<0)||(n.setState({errorMessage:"Unesite ispravan broj potrebnih donacija, ne moze biti negativan."}),!1)},n.handleChangeKorisnici=function(e){if(e){var t=n.state.korisnici.filter((function(t){return t.id==e.target.value}));n.setState({odabrani:t[0],username:e.target.value})}},n.handleChangeHitno=function(e){e&&n.setState({emergency:e.target.value})},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.createTransfusion=function(e){console.log(n.state.odabrani),e.preventDefault(),n.validateForm()?m.a.post(localStorage.getItem("home_link")+"/transfusionTable",{bloodType:n.state.odabrani.typeOfBlood,user:n.state.odabrani,placeOfNeededDonation:n.state.placeOfNeededDonation,publishingDate:n.state.publishingDate,emergency:n.state.emergency,bloodQuantityNeeded:n.state.bloodQuantityNeeded,details:n.state.details},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(n.props.history.push("/"),alert("Uspje\u0161no dodana potrebna donacija/transfuzija."))})).catch((function(e){console.log(e.response.data.message.toString()),Object(p.a)(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})},n.state={korisnici:[],odabrani:{},placeOfNeededDonation:"",publishingDate:"",emergency:!0,hitno:[{value:!0,label:"Da"},{value:!1,label:"Ne"}],bloodQuantityNeeded:"",details:"",username:"",errorMessage:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(localStorage.getItem("home_link")+"/user",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({korisnici:a}),0!==e.state.korisnici.length&&e.setState({odabrani:e.state.korisnici[0]})})).catch((function(e){p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})),m.a.get(localStorage.getItem("home_link")+"/bloodType",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(t){var a=t.data;e.setState({krv:a})}))}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{className:"userDiv",children:Object(N.jsxs)("form",{className:"registerForma",children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:"Dodaj novu potrebnu transfuziju/donaciju"}),Object(N.jsxs)("div",{className:"inputGroup",children:[Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Mjesto potrebne donacije",name:"placeOfNeededDonation"}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{children:"Datum objave: "}),Object(N.jsx)("input",{className:"loginInput",type:"date",onChange:function(t){return e.handleChange(t)},placeholder:"Datum objave",name:"publishingDate"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"number",onChange:function(t){return e.handleChange(t)},placeholder:"Kolicina potrebnih doza krvi",name:"bloodQuantityNeeded"}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Detalji",name:"details"})]}),Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Donacija je potrebna hitno "}),Object(N.jsx)("br",{}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeHitno(t)},value:this.state.emergency,name:"emergency",children:this.state.hitno.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),Object(N.jsxs)("div",{className:"selectWrapper",children:[Object(N.jsx)("label",{children:"Transfuzija je potrebna (username): "}),Object(N.jsx)("br",{}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeKorisnici(t)},value:this.state.username,name:"username",children:this.state.korisnici.map((function(e){return Object(N.jsx)("option",{value:e.id,children:e.username},e.id)}))})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("br",{}),Object(N.jsxs)("button",{className:"okButton",onClick:function(t){return e.createTransfusion(t)},type:"submit",children:[" ",Object(N.jsx)("img",{className:"icons",src:T})," Kreiraj transfuziju"]})]})]})})}}]),a}(n.Component),Y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).validateForm=function(){return""!==n.state.roleName||(n.setState({errorMessage:"Unesite potrebne podatke."}),!1)},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.createRole=function(e){e.preventDefault(),n.validateForm()?m.a.post(localStorage.getItem("home_link")+"/role",{roleName:n.state.roleName},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(n.props.history.push("/"),alert("Uspje\u0161no kreirana uloga"))})).catch((function(e){console.log(e.response.data.message.toString()),p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})})):p.a.error("Unesite vrijednosti",{position:p.a.POSITION.TOP_RIGHT})},n.state={roleName:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{className:"userDiv",children:Object(N.jsxs)("form",{className:"registerForma",children:[Object(N.jsx)("img",{className:"icon_image",src:H}),Object(N.jsx)("h2",{children:"Dodaj novu ulogu"}),Object(N.jsx)("div",{className:"inputGroup",children:Object(N.jsx)("input",{className:"loginInput",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Uloga korisnika",name:"roleName"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("br",{}),Object(N.jsxs)("button",{className:"okButton",onClick:function(t){return e.createRole(t)},type:"submit",children:[" ",Object(N.jsx)("img",{className:"icons",src:T})," Kreiraj ulogu"]})]})]})})}}]),a}(n.Component),Z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.handleChangeTipKrvi=function(e){e&&n.setState({bloodType:e.target.value})},n.handleChangeRh=function(e){e&&n.setState({rhFactor:e.target.value})},n.createBloodType=function(e){e.preventDefault(),m.a.post(localStorage.getItem("home_link")+"/bloodType",{bloodType:n.state.bloodType,rhFactor:n.state.rhFactor},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(e){200!==e.status&&201!==e.status||(n.props.history.push("/"),alert("Uspje\u0161no kreirana krvna grupa."))})).catch((function(e){console.log(e.response.data.message.toString()),p.a.error(e.response.data.message.toString(),{position:p.a.POSITION.TOP_RIGHT})}))},n.state={bloodType:"A",rhFactor:!0,tipKrvi:[{value:"A",label:"A"},{value:"B",label:"B"},{value:"AB",label:"AB"},{value:"0",label:"0"}],rh:[{value:!0,label:"+"},{value:!1,label:"-"}]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(N.jsx)("div",{className:"userDiv",children:Object(N.jsxs)("form",{className:"registerForma",children:[Object(N.jsx)("img",{className:"user_img",src:k,alt:"Crvena kap"}),Object(N.jsx)("h2",{children:"Dodaj novu krvnu grupu"}),Object(N.jsxs)("div",{className:"inputGroup",children:[Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeTipKrvi(t)},value:this.state.bloodType,name:"bloodType",children:this.state.tipKrvi.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(N.jsx)("br",{}),Object(N.jsx)("select",{className:"selectBox",onChange:function(t){e.handleChangeRh(t)},value:this.state.rhFactor,name:"rhFactor",children:this.state.rh.map((function(e){return Object(N.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{style:{color:"red"},children:this.state.errorMessage}),Object(N.jsx)("br",{}),Object(N.jsxs)("button",{className:"okButton",onClick:function(t){return e.createBloodType(t)},type:"submit",children:[Object(N.jsx)("img",{className:"icons",src:T})," Dodaj krvnu grupu"]})]})]})})}}]),a}(n.Component),X=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)("div",{className:"home",children:[Object(N.jsx)(E,{}),Object(N.jsx)(c.a,{path:"/admin/profil",component:U}),Object(N.jsx)(c.a,{path:"/admin/lista_profila",component:w}),Object(N.jsx)(c.a,{path:"/admin/kreiraj_profil",component:G}),Object(N.jsx)(c.a,{path:"/admin/transfuzije_krvi",component:K}),Object(N.jsx)(c.a,{path:"/admin/dodaj_transfuziju",component:_}),Object(N.jsx)(c.a,{path:"/admin/tablica_donacija",component:R}),Object(N.jsx)(c.a,{path:"/admin/dodaj_donaciju",component:Q}),Object(N.jsx)(c.a,{path:"/admin/dodaj_rolu",component:Y}),Object(N.jsx)(c.a,{path:"/admin/dodaj_grupu",component:Z}),Object(N.jsx)("a",{className:"odjava",href:"/login",children:"Odjava"})]})})}}]),a}(n.Component),L=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)("nav",{className:"navbar",children:Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{to:"/user/profil",children:Object(N.jsx)("li",{children:"Moj profil"})}),Object(N.jsx)(o.b,{to:"/user/transfuzije_krvi",children:Object(N.jsx)("li",{children:"Pregled potrebnih transfuzija krvi"})}),Object(N.jsx)(o.b,{to:"/user/tablica_donacija",children:Object(N.jsx)("li",{children:"Tabelarni pregled donacija"})})]})})}}]),a}(n.Component),W=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)("div",{className:"home",children:[Object(N.jsx)(L,{}),Object(N.jsx)(c.a,{path:"/user/profil",component:U}),Object(N.jsx)(c.a,{path:"/user/transfuzije_krvi",component:K}),Object(N.jsx)(c.a,{path:"/user/tablica_donacija",component:R}),Object(N.jsx)("a",{className:"odjava",href:"/login",children:"Odjava"})]})})}}]),a}(n.Component),J=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e;return Object(N.jsxs)("nav",{className:"navbar",children:[Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{to:"/employeeDoctor/profil",children:Object(N.jsx)("li",{children:"Moj profil"})}),Object(N.jsx)(o.b,{to:"/employeeDoctor/lista_profila",children:Object(N.jsx)("li",{children:"Pregled korisnika"})}),Object(N.jsx)(o.b,{to:"/employeeDoctor/transfuzije_krvi",children:Object(N.jsx)("li",{children:"Pregled potrebnih transfuzija krvi"})}),Object(N.jsx)(o.b,{to:"/employeeDoctor/tablica_donacija",children:Object(N.jsx)("li",{children:"Tabelarni pregled donacija"})})]}),Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{className:"linkovi",to:"/employeeDoctor/dodaj_transfuziju",children:Object(N.jsx)("li",{children:"Dodaj novu potrebnu transfuziju"})}),Object(N.jsx)(o.b,(e={className:"linkovi"},Object(l.a)(e,"className","linkovi"),Object(l.a)(e,"to","/employeeDoctor/dodaj_donaciju"),Object(l.a)(e,"children",Object(N.jsx)("li",{children:"Dodaj donaciju"})),e))]})]})}}]),a}(n.Component),q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)("div",{className:"home",children:[Object(N.jsx)(J,{}),Object(N.jsx)(c.a,{path:"/employeeDoctor/profil",component:U}),Object(N.jsx)(c.a,{path:"/employeeDoctor/lista_profila",component:w}),Object(N.jsx)(c.a,{path:"/employeeDoctor/transfuzije_krvi",component:K}),Object(N.jsx)(c.a,{path:"/employeeDoctor/tablica_donacija",component:R}),Object(N.jsx)(c.a,{path:"/employeeDoctor/dodaj_transfuziju",component:_}),Object(N.jsx)(c.a,{path:"/employeeDoctor/dodaj_donaciju",component:Q}),Object(N.jsx)("a",{className:"odjava",href:"/login",children:"Odjava"})]})})}}]),a}(n.Component),$=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)("nav",{className:"navbar",children:Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{to:"/employeeHospitalManagement/profil",children:Object(N.jsx)("li",{children:"Moj profil"})}),Object(N.jsx)(o.b,{to:"/employeeHospitalManagement/lista_profila",children:Object(N.jsx)("li",{children:"Pregled korisnika"})}),Object(N.jsx)(o.b,{to:"/employeeHospitalManagement/transfuzije_krvi",children:Object(N.jsx)("li",{children:"Pregled potrebnih transfuzija krvi"})}),Object(N.jsx)(o.b,{to:"/employeeHospitalManagement/tablica_donacija",children:Object(N.jsx)("li",{children:"Tabelarni pregled donacija"})})]})})}}]),a}(n.Component),ee=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)("div",{className:"home",children:[Object(N.jsx)($,{}),Object(N.jsx)(c.a,{path:"/employeeHospitalManagement/profil",component:U}),Object(N.jsx)(c.a,{path:"/employeeHospitalManagement/lista_profila",component:w}),Object(N.jsx)(c.a,{path:"/employeeHospitalManagement/transfuzije_krvi",component:K}),Object(N.jsx)(c.a,{path:"/employeeHospitalManagement/tablica_donacija",component:R}),Object(N.jsx)("a",{className:"odjava",href:"/login",children:"Odjava"})]})})}}]),a}(n.Component),te=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsxs)("nav",{className:"navbar",children:[Object(N.jsxs)("ul",{children:[Object(N.jsx)(o.b,{to:"/employeeMedicalTechnician/profil",children:Object(N.jsx)("li",{children:"Moj profil"})}),Object(N.jsx)(o.b,{to:"/employeeMedicalTechnician/transfuzije_krvi",children:Object(N.jsx)("li",{children:"Pregled potrebnih transfuzija krvi"})}),Object(N.jsx)(o.b,{to:"/employeeMedicalTechnician/tablica_donacija",children:Object(N.jsx)("li",{children:"Tabelarni pregled donacija"})})]}),Object(N.jsx)("ul",{children:Object(N.jsx)(o.b,{className:"linkovi",to:"/employeeMedicalTechnician/dodaj_transfuziju",children:Object(N.jsx)("li",{children:"Dodaj novu potrebnu transfuziju"})})})]})}}]),a}(n.Component),ae=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)("div",{className:"home",children:[Object(N.jsx)(te,{}),Object(N.jsx)(c.a,{path:"/employeeMedicalTechnician/profil",component:U}),Object(N.jsx)(c.a,{path:"/employeeMedicalTechnician/transfuzije_krvi",component:K}),Object(N.jsx)(c.a,{path:"/employeeMedicalTechnician/tablica_donacija",component:R}),Object(N.jsx)(c.a,{path:"/employeeMedicalTechnician/dodaj_transfuziju",component:_}),Object(N.jsx)("a",{className:"odjava",href:"/login",children:"Odjava"})]})})}}]),a}(n.Component);var ne=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(c.c,{children:[Object(N.jsx)(c.a,{path:"/",exact:!0,component:D}),Object(N.jsx)(c.a,{path:"/login",exact:!0,component:S}),Object(N.jsx)(c.a,{path:"/admin",exact:!0,component:X}),Object(N.jsx)(c.a,{path:"/user",exact:!0,component:W}),Object(N.jsx)(c.a,{path:"/employeeDoctor",exact:!0,component:q}),Object(N.jsx)(c.a,{path:"/employeeHospitalManagement",exact:!0,component:ee}),Object(N.jsx)(c.a,{path:"/employeeMedicalTechnician",exact:!0,component:ae})]})})})},se=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,701)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(ne,{})}),document.getElementById("root")),se()},44:function(e,t,a){},45:function(e,t,a){}},[[310,1,3]]]);
//# sourceMappingURL=main.761b254c.chunk.js.map